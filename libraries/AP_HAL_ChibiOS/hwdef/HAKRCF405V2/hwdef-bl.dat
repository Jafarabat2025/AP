# hwdef-bl.dat for HAKRCF405V2 bootloader (STM32F405, 1MB flash, 8MHz crystal)

MCU STM32F4xx STM32F405xx

# Board ID, see Tools/AP_Bootloader/board_types.txt
APJ_BOARD_ID AP_HW_HAKRCF405V2

# crystal frequency
OSCILLATOR_HZ 8000000

# Flash layout
FLASH_SIZE_KB 1024
FLASH_USE_MAX_KB 16
FLASH_RESERVE_START_KB 0
FLASH_BOOTLOADER_LOAD_KB 64   # main firmware starts at 0x08010000

# LEDs / buzzer
PC13 LED_BOOTLOADER OUTPUT LOW
define HAL_LED_ON 0

PC14 BUZZER OUTPUT LOW PULLDOWN

# USB (DFU)
SERIAL_ORDER OTG1
PA11 OTG_FS_DM OTG1
PA12 OTG_FS_DP OTG1

# Chip select pins â€” hold high to prevent SPI devices from interfering
PA4   ICM42688_CS CS
PB12  FLASH_CS CS
PA15  OSD_CS CS
